<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SmileyCoin Clicker</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 100 100%27%3E%3Ctext y=%27.9em%27 font-size=%2790%27%3E%F0%9F%98%8A%3C/text%3E%3C/svg%3E">
  <style>
    /* Landing visuals */
    body.starting{ background:linear-gradient(#fff7cc,#fff3a6); color:#111827; }
    .landing{ min-height:60vh; display:grid; place-items:center; text-align:center; }
    .landing h1{ font-size:clamp(2rem,7vw,3.5rem); margin:.25rem 0 }
    .landing h1 span{ color:#f59e0b }
    .landing .logo{ font-size:clamp(64px,10vw,96px) }
    .landing .tag{ opacity:.8;margin:.25rem 0 1.25rem }
    .btn-start{
      font-size:1.1rem; padding:1rem 1.5rem; border-radius:1rem; border:none;
      background:#111827; color:#fff; cursor:pointer; box-shadow:0 10px 25px rgba(0,0,0,.15);
    }
    .grid{ max-width:1100px; margin:2rem auto 3rem; padding:0 1rem; display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(260px,1fr));}
    .card{ background:#fff; border-radius:1rem; padding:1.25rem; box-shadow:0 8px 24px rgba(0,0,0,.08) }
    .card h2{ margin-top:0 }
    #gameArea{ display:none }
  </style>
</head>
<body class="starting">
  <!-- Landing -->
  <section class="landing" id="landing">
    <div>
      <div class="logo">😊</div>
      <h1>Smiley<span>Coin</span> Clicker</h1>
      <p class="tag">Do you dare to Click?</p>
      <button id="startBtn" class="btn-start">Start Clicking</button>
    </div>
  </section>

  <!-- Info cards -->
  <section class="grid" id="cards">
    <div class="card">
      <h2>How to Play</h2>
      <p>– Click and find out 😉 –</p>
    </div>
    <div class="card">
      <h2>Rules</h2>
      <p><strong>Click to glory.</strong></p>
    </div>
    <div class="card">
      <h2>Coming Soon</h2>
      <p>Global leaderboard, daily streaks, and a “SmileyCoin” mini-economy.</p>
    </div>
  </section>

  <!-- Game Area -->
  <section id="gameArea">
    <!-- GAME OVER overlay -->
    <div id="overlay" class="overlay" aria-hidden="true">
      <div class="overlay-card">
        <div class="overlay-title">GAME OVER</div>
        <p id="overlay-msg">You left? Aren’t you happy?!</p>
        <button id="overlay-retry" class="btn">TRY AGAIN</button>
      </div>
    </div>

    <!-- Floating face -->
    <div class="stage"><div id="face" aria-hidden="true">😊</div></div>

    <main class="wrap">
      <h1>😊 SmileyCoin Clicker</h1>
      <p class="counter"><span id="count">0</span> clicks</p>
      <button id="clicker" class="btn">If you’re happy and you know it, click the button 🎉</button>
    </main>
  </section>

  <script src="script.js"></script>
  <script>
    // Start button: clear any old KO, mark game started, reveal game area
    document.getElementById("startBtn").addEventListener("click", () => {
      // flags & storage keys used by script.js:
      sessionStorage.setItem("game_started", "1");         // enable KO logic after start
      sessionStorage.setItem("smiley_retrying", "1");      // avoid "refresh KO" during reveal
      localStorage.removeItem("smiley_last_gameover");     // clear any stale KO from earlier
      localStorage.removeItem("smiley_click_count_v1");    // fresh run

      // show game, hide landing/cards, swap background
      document.body.classList.remove("starting");
      document.getElementById("landing").style.display = "none";
      document.getElementById("cards").style.display = "none";
      document.getElementById("gameArea").style.display = "block";

      // initialize counter display
      if (window.setCount) setCount(0);
      const btn = document.getElementById("clicker");
      if (btn) btn.focus();
    });
  </script>
</body>
</html>
